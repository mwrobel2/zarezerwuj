<main>
  <span *ngIf="userIsAuthenticated">
    <div id="menu">
      <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
        <mat-button-toggle routerLink="/glownemenu"
          >STRONA GŁÓWNA</mat-button-toggle
        >
        <mat-button-toggle class="imhere"><b>Logowania</b></mat-button-toggle>
        <mat-button-toggle (click)="logout()"
          >{{ loggedInUser.name }} {{ loggedInUser.surname }}</mat-button-toggle
        >
      </mat-button-toggle-group>
    </div>

    <div class="matTableDiv" *ngIf="loginDatas.length > 0">
      <mat-paginator
        id="topPag"
        [length]="totalLoginDatas"
        [pageSize]="loginDatasPerPage"
        [pageSizeOptions]="pageSizeOptions"
        (page)="onChangedPage($event)"
        *ngIf="loginDatas.length > 0"
      >
      </mat-paginator>
      <table
        mat-table
        [dataSource]="dataSource"
        matSort
        class="mat-elevation-z8"
      >
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Data</th>
          <td mat-cell *matCellDef="let element">
            {{ element.date | date: 'dd.MM.yyyy HH:mm:ss' }}
          </td>
        </ng-container>

        <ng-container matColumnDef="login">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Nazwa użytkownika
          </th>
          <td mat-cell *matCellDef="let element">{{ element.login }}</td>
        </ng-container>

        <ng-container matColumnDef="message">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Informacja</th>
          <td mat-cell *matCellDef="let element">
            {{ element.message }}
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>

      <mat-paginator
        id="bottomPag"
        [length]="totalLoginDatas"
        [pageSize]="loginDatasPerPage"
        [pageSizeOptions]="pageSizeOptions"
        (page)="onChangedPage($event)"
        *ngIf="loginDatas.length > 0"
      >
      </mat-paginator>
    </div>

    <div id="carddiv" *ngIf="loginDatas.length <= 0">
      <mat-card class=" example-card">
        <mat-card-header>
          <div mat-card-avatar class="example-header-image"></div>
          <mat-card-title>Brak Danych</mat-card-title>
          <mat-card-subtitle
            >W bazie nie ma jeszcze żadnych logowań.</mat-card-subtitle
          >
        </mat-card-header>
        <mat-card-actions>
          <button mat-raised-button color="primary" (click)="powrot()">
            Powrót
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </span>

  <div id="carddiv" *ngIf="!userIsAuthenticated">
    <mat-card class="example-card">
      <mat-card-header>
        <div mat-card-avatar class="example-header-image"></div>
        <mat-card-title>Nie zalogowany</mat-card-title>
        <mat-card-subtitle
          >Zaloguj się do systemu aby odczytać dane.</mat-card-subtitle
        >
      </mat-card-header>
      <mat-card-actions>
        <button mat-raised-button color="primary" routerLink="/login">
          Logowanie do systemu
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</main>
