<main>
  <span *ngIf="userIsAuthenticated">
    <div id="menu">
      <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
        <mat-button-toggle routerLink="/glownemenu">STRONA GŁÓWNA</mat-button-toggle>

        <mat-button-toggle routerLink="/rrwmodule/kluczemojahistoria">Klucze - historia</mat-button-toggle>

        <mat-button-toggle routerLink="/rrwmodule/klucze" *ngIf="dispFields.menuKluczeUprawnienia">Klucze - uprawnienia</mat-button-toggle>
        <mat-button-toggle class="imhere" *ngIf="dispFields.menuDodajUprawnienia"><b>Dodaj uprawnienia</b>
        </mat-button-toggle>

        <mat-button-toggle routerLink="/rrwmodule/kluczerejestr" *ngIf="dispFields.menuSpis">Klucze - spis</mat-button-toggle>
        <mat-button-toggle routerLink="/rrwmodule/kluczerejestradd" *ngIf="dispFields.menuDodajSpis">Dodaj klucz</mat-button-toggle>

        <mat-button-toggle routerLink="/rrwmodule/kluczewydania" *ngIf="dispFields.menuWydania">Wydania - historia</mat-button-toggle>
        <mat-button-toggle routerLink="/rrwmodule/kluczewydaniaadd" *ngIf="dispFields.menuDodajWydanie">Wydaj klucz</mat-button-toggle>

        <mat-button-toggle routerLink="/rrwmodule/kluczerejestracja" *ngIf="dispFields.rejestracja">Rejestracja - START</mat-button-toggle>

        <mat-button-toggle (click)="logout()">{{ this.loggedInUser.name }} {{ this.loggedInUser.surname }}

        </mat-button-toggle>
      </mat-button-toggle-group>
    </div>

    <mat-card>

      <form [formGroup]="form" (submit)="onSaveKlucz()">
        <button *ngIf="dispFields.buttonDodajKontr" mat-raised-button color="primary" type="submit">
          Zapisz uprawnienia
        </button>
        &nbsp;
        <button mat-raised-button color="primary" type="button" (click)="powrot()">
          Anuluj
        </button>

        <h4>Uprawnienia do klucza</h4>

        <div *ngIf="dispFields.dodajUprSaAktywne">
          <mat-checkbox name="aktywny" formControlName="aktywny">Uprawnienia są aktywne
          </mat-checkbox>
        </div>

        <div class="inonerow3">

        </div>

        <div class="inonerow2">
          <div>
            <mat-form-field>
              <input matInput type="text" formControlName="fullName" placeholder="numer klucza" />
            </mat-form-field>
          </div>
          &nbsp;
          <div>
            <mat-form-field>
              <input matInput type="text" formControlName="rfidKlucza" placeholder="RFID klucza" />
            </mat-form-field>
          </div>
        </div>

        <div class="inonerow2">
          <div>
            <mat-form-field>
              <input matInput type="text" formControlName="imie" placeholder="imię" />
            </mat-form-field>
          </div>
          &nbsp;
          <div>
            <mat-form-field>
              <input matInput type="text" formControlName="nazwisko" placeholder="nazwisko" />
            </mat-form-field>
          </div>
          &nbsp;
          <div>
            <mat-form-field>
              <input matInput type="text" formControlName="login" placeholder="login" />
            </mat-form-field>
          </div>
          &nbsp;
          <div>
            <mat-form-field>
              <input matInput type="text" formControlName="zaklad" placeholder="zakład" />
            </mat-form-field>
          </div>
          &nbsp;
          <div>
            <mat-form-field>
              <input matInput type="text" formControlName="nrKarty" placeholder="RFID karty" />
            </mat-form-field>
          </div>
        </div>


        <!-- przyciski zapisz anuluj -->

        <button mat-raised-button color="primary" type="submit" *ngIf="dispFields.buttonDodajKontr">
          Zapisz uprawnienia
        </button>
        &nbsp;
        <button mat-raised-button color="primary" type="button" (click)="powrot()">
          Anuluj
        </button>
      </form>

    </mat-card>
  </span>

  <div id="carddiv" *ngIf="!userIsAuthenticated">
    <mat-card class="example-card">
      <mat-card-header>
        <div mat-card-avatar class="example-header-image"></div>
        <mat-card-title>Nie zalogowany</mat-card-title>
        <mat-card-subtitle>Zaloguj się do systemu aby zapisać dane.</mat-card-subtitle>
      </mat-card-header>
      <mat-card-actions>
        <button mat-raised-button color="primary" routerLink="/login">
          Logowanie do systemu
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</main>
